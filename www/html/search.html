<ion-view view-title="Search" class="page-search">
	<ion-content>

		<form ng-submit="doSearch()">
			<div class="list list-inset">
				<label class="item item-input"> <i class="icon ion-search placeholder-icon"></i>
					<input type="text" placeholder="Search" ng-model="search.text"></label>
			</div>
		</form>

		<div class="list card" ng-repeat="res in searchResult" ng-style="{'background-image': 'url(' + (res.artwork_url || res.user.avatar_url) + ')'}" ng-click="openSong(res.id)">

			<div class="item item-avatar item-icon-right">
				<img ng-src="{{res.user.avatar_url}}">
				<h2>{{res.title}}</h2>
				<p>{{res.user.username}}</p> <i class="icon icon-text">{{durationToTime(res.duration)}}</i>
			</div>

		</div>

		<ion-infinite-scroll ng-if="canLoadMore()" icon="ion-loading-c" on-infinite="loadMore()" immediate-check="false"></ion-infinite-scroll>
	</ion-content>
</ion-view>